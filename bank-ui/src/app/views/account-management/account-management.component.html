<div class="animated fadeIn">
  <div class="row">
      <div class="col-sm-12 col-md-12">

        <div class="card" >
          <div class="card-body">
            <h5 class="card-title">Tra cứu</h5>
            <form [formGroup]="formSearch" class="form-search" >
            <table style="width:100%">
              <tr>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Firstname" formControlName="firstname" [ngClass] = "{'is-valid': submitted && f.firstname.errors}" >
                    <div *ngIf=" f.firstname.errors" class="invalid-feedback">
                      <p class="error" *ngIf="f.firstname.errors.required">Nhập đầy đủ các thông tin</p>
                    </div>

                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Lastname" formControlName="lastname" [ngClass] = "{'is-valid': submitted && f.lastname.errors}" >

                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy" >
                    <input matInput placeholder="Age" formControlName="age" >
                  </mat-form-field>
                </th>

              </tr>
              <tr>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Account Number" formControlName="accountNumber" >
                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                      <input matInput placeholder="Employer" formControlName="employer" >
                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Balance" formControlName="balance" >
                  </mat-form-field>
                </th>
              </tr>
              <tr>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Email" formControlName="email" >
                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Gender" formControlName="gender" >
                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Address" formControlName="address" >
                  </mat-form-field>
                </th>
              </tr>
              <tr>
                <th>
                  <mat-form-field appearance="legacy">
                      <input matInput placeholder="City" formControlName="city" >
                  </mat-form-field>
                </th>
                <th>
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="State" formControlName="state" >
                  </mat-form-field>
                </th>
              </tr>

              <!-- <tr>
                <div *ngIf=" f.firstname.errors" class="invalid-feedback">
                  <p class="error" *ngIf="f.firstname.errors.required">Nhập đầy đủ các thông tin</p>
                </div>
              </tr> -->
              <tr>
                <td></td>
                <td>
                  <button mat-raised-button color="primary" (click)="search()">Search</button>
                  <button mat-raised-button color="accent" (click)="openAddDialog()">Create</button>
                </td>
                <td></td>
              </tr>

            </table>
          </form>
         </div>
        </div>

      </div>
    <div class="col-sm-12 col-md-12">
      <div class="card" >
        <div class="card-body">
          <h5 class="card-title">Danh sách người dùng</h5>
          <div class="center-width-separator">

              <mat-table #table [dataSource]="accounts" matSort>

               <ng-container matColumnDef="id" >
                 <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
                 <mat-cell *matCellDef="let i =index">{{paginator.pageIndex * paginator.pageSize + i + 1}}</mat-cell>
               </ng-container>

               <ng-container matColumnDef="lastname">
                 <mat-header-cell *matHeaderCellDef >Lastname</mat-header-cell>
                 <mat-cell *matCellDef="let i">{{i.lastname}}</mat-cell>
               </ng-container>


               <ng-container matColumnDef="firstname">
                 <mat-header-cell *matHeaderCellDef>Firstname</mat-header-cell>
                <mat-cell *matCellDef="let i">{{i.firstname}}</mat-cell>
               </ng-container>


               <ng-container matColumnDef="accountNumber">
                 <mat-header-cell *matHeaderCellDef>Account Number</mat-header-cell>
                 <mat-cell *matCellDef="let i">{{i.accountNumber }}</mat-cell>
               </ng-container>

               <ng-container matColumnDef="balance">
                <mat-header-cell *matHeaderCellDef>Balance</mat-header-cell>
                <mat-cell *matCellDef="let i">{{i.balance }}</mat-cell>
              </ng-container>

               <ng-container matColumnDef="actions">
                 <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                 <mat-cell *matCellDef="let i">
                    <button mat-button mat-mini-fab color="primary" (click)="openEditDialog(i)" >
                      <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-mini-fab color="warn" (click)="deleteAccount(i.id)">
                      <mat-icon>delete</mat-icon>
                    </button>


                  </mat-cell>
               </ng-container>

               <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
               <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

              </mat-table>
               <mat-paginator #paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 50]">
               </mat-paginator>
             </div>







          <!-- <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Fullname</th>
                <th scope="col">Age</th>
                <th scope="col">Account Number</th>
                <th scope="col">Balance</th>
                <th scope="col">
                  <button mat-button mat-mini-fab  >
                    <mat-icon>add_circle</mat-icon>
                  </button>
                </th>
              </tr>
            </thead>
            <tbody *ngIf="accounts.length">
              <tr *ngFor="let account of accounts; index as i ">
                <th scope="row">{{i + 1}}</th>
                <td><a href="#">{{account.lastname}} {{account.firstname}}</a></td>
                <td>{{account.age}}</td>
                <td>{{account.accountNumber}}</td>
                <td>{{account.balance}}</td>
                <td>
                  <button mat-button mat-mini-fab color="primary"  >
                    <mat-icon>edit</mat-icon>
                  </button>
                  <button mat-mini-fab color="warn" >
                    <mat-icon>delete</mat-icon>
                  </button>
                </td>
              </tr>

            </tbody>
          </table>
          <mat-paginator #paginator
          [length]="accounts.length"
          [pageSize]="5"
          [pageSizeOptions]="[5, 10, 25, 100]"
          [showFirstLastButtons]="true">
        </mat-paginator> -->

        </div>
      </div>
    </div>

  </div>
</div>
